(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"21hC":function(e,t,a){"use strict";a.r(t),a.d(t,"DemosModule",function(){return o});var s=a("ofXK"),n=a("fXoL");const r=["container"];let i=(()=>{class e{constructor(){this.height=400,this.width=400,this.shadersEnabled=!0,this.orbitsEnabled=!0,this.planets=[],this.planetsAngle=[]}ngOnInit(){}ngOnChanges(e){e.height||e.width?this.setupCanvasSize():e.planets&&(this.planetsAngle=this.planets.map(e=>0))}ngAfterViewInit(){this.canvas=document.createElement("canvas"),this.ctx2d=this.canvas.getContext("2d"),this.container.nativeElement.appendChild(this.canvas),this.setupCanvasSize(),this.lastFrameTime=Date.now(),requestAnimationFrame(()=>this.draw())}setupCanvasSize(){this.canvas.width=this.width=this.width||this.container.nativeElement.clientWidth,this.canvas.height=this.height=this.height||this.container.nativeElement.clientHeight,this.ctx2d.translate(this.width/2,this.height/2)}draw(){this.ctx2d.fillRect(-this.width/2,-this.height/2,this.width,this.height);const e=Date.now();this.drawBodies(this.planets,(e-this.lastFrameTime)/1e3),this.lastFrameTime=e,requestAnimationFrame(()=>this.draw())}drawBodies(e,t,a=0,s=0){this.ctx2d.translate(a,s),e.forEach((e,a)=>{let s=0;this.planetsAngle[a]+=e.rv/Math.PI*t,s=this.planetsAngle[a];const n=e.distance*Math.cos(s),r=e.distance*Math.sin(s);this.orbitsEnabled&&e.distance&&this.drawOrbit(this.ctx2d,e),e.orbiters&&e.orbiters.length&&this.drawBodies(e.orbiters,t,n,r),this.drawPlanet(this.ctx2d,n,r,e),this.shadersEnabled&&e.appearance.shaderStyle&&this.drawShader(this.ctx2d,n,r,e)}),this.ctx2d.translate(-a,-s)}drawPlanet(e,t,a,s){e.save(),e.fillStyle=s.appearance.color,e.translate(t,a),e.beginPath(),e.arc(0,0,s.rad,0,2*Math.PI,!1),e.fill(),e.restore()}drawShader(e,t,a,s){var n;e.save(),e.fillStyle=s.appearance.shaderStyle||"none",e.translate(t,a),e.beginPath(),e.arc(0,0,((null==s?void 0:s.rad)||0)+((null===(n=null==s?void 0:s.appearance)||void 0===n?void 0:n.shaderOffset)||0),0,2*Math.PI,!1),e.fill(),e.restore()}drawOrbit(e,t){e.save(),e.strokeStyle=t.appearance.color,e.translate(0,0),e.beginPath(),e.arc(0,0,t.distance,0,2*Math.PI,!1),e.stroke(),e.restore()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.yb({type:e,selectors:[["app-planet-viewer"]],viewQuery:function(e,t){if(1&e&&n.Wb(r,3),2&e){let e;n.Rb(e=n.Ob())&&(t.container=e.first)}},inputs:{height:"height",width:"width",shadersEnabled:"shadersEnabled",orbitsEnabled:"orbitsEnabled",planets:"planets"},features:[n.ub],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&n.Fb(0,"div",null,0)},styles:[""],encapsulation:2}),e})(),c=(()=>{class e{constructor(){this.planets=[{name:"sun",rad:30,distance:0,rv:0,appearance:{color:"yellow",shaderStyle:"rgba(241, 196, 18, 0.67)",shaderOffset:3}},{name:"bar",rad:15,distance:100,rv:.3,appearance:{color:"red",shaderStyle:"rgba(241, 18, 18, 0.59)",shaderOffset:4},orbiters:[{name:"pinko",rad:3,distance:23,rv:.5,appearance:{color:"pink"},orbiters:[{name:"yellow",rad:2,distance:6,rv:.5,appearance:{color:"yellow"}}]}]},{name:"foo",rad:10,distance:70,rv:.4,appearance:{color:"blue",shaderStyle:"rgba(50, 205, 229, 0.41)",shaderOffset:1}},{name:"oran",rad:7,distance:130,rv:.2,appearance:{color:"orange",shaderStyle:"rgba(241, 18, 18, 0.59)",shaderOffset:2},orbiters:[{name:"mun",rad:3,distance:10,rv:1,appearance:{color:"cyan"}},{name:"mun2",rad:2,distance:20,rv:.2,appearance:{color:"lime"}}]},{name:"gray",rad:7,distance:170,rv:.1,appearance:{color:"gray",shaderStyle:"rgba(142, 142, 142, 0.36)",shaderOffset:1}}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.yb({type:e,selectors:[["app-planets-demo"]],decls:11,vars:5,consts:[["type","checkbox",3,"checked"],["orbits",""],["shaders",""],[3,"planets","orbitsEnabled","shadersEnabled"]],template:function(e,t){if(1&e&&(n.Hb(0,"div"),n.Fb(1,"input",0,1),n.Hb(3,"span"),n.Vb(4,"Orbits"),n.Gb(),n.Gb(),n.Hb(5,"div"),n.Fb(6,"input",0,2),n.Hb(8,"span"),n.Vb(9,"Shaders"),n.Gb(),n.Gb(),n.Fb(10,"app-planet-viewer",3)),2&e){const e=n.Sb(2),a=n.Sb(7);n.vb(1),n.Pb("checked",!0),n.vb(5),n.Pb("checked",!0),n.vb(4),n.Pb("planets",t.planets)("orbitsEnabled",e.checked)("shadersEnabled",a.checked)}},directives:[i],styles:[""]}),e})(),h=(()=>{class e{}return e.\u0275mod=n.Cb({type:e}),e.\u0275inj=n.Bb({factory:function(t){return new(t||e)},imports:[[s.b]]}),e})();var d=a("tyNb");const l=[{path:"planets",component:c},{path:"empty",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.yb({type:e,selectors:[["app-empty-demo"]],decls:2,vars:0,template:function(e,t){1&e&&(n.Hb(0,"p"),n.Vb(1,"empty-demo works!"),n.Gb())},styles:[""]}),e})()}];let o=(()=>{class e{}return e.\u0275mod=n.Cb({type:e}),e.\u0275inj=n.Bb({factory:function(t){return new(t||e)},imports:[[s.b,h,d.b.forChild(l)]]}),e})()}}]);